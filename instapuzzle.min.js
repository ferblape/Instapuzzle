function Timer(c){return{seconds:0,minutes:0,selector:c,interval:null,printTime:function(){jQuery(c).html((this.minutes<10?"0"+this.minutes:this.minutes)+":"+(this.seconds<10?"0"+this.seconds:this.seconds))},increaseTime:function(){this.seconds<59?this.seconds++:(this.seconds=0,this.minutes++);this.printTime()},start:function(){this.interval=setInterval(function(c){c.increaseTime()},1E3,this)},stop:function(){this.interval=clearInterval(this.interval)}}}
function Puzzle(c,i){for(var e=c*c,f=612/c,j=[],g=[],d=0;d<e;d++)j.push(d),g.push(d);for(var g=g.sort(function(){return 0.5-Math.random()}).sort(function(){return 0.5-Math.random()}),k=g[e-1],h=[],d=0;d<c;d++)for(e=0;e<c;e++){var l=jQuery("<img />").attr("src",i).attr("height",612).attr("width",612).css("position","relative").css("top",-1*d*f).css("left",-1*e*f);h.push(l)}return{solution:j,positions:g,blank_position:k,images:h,n:c,timer:new Timer(".time"),moves:0,build:function(){var a=jQuery("<div>"),
b=jQuery("<img />").attr("src",i),d=this;b.fadeIn(2500,function(){jQuery("#puzzle").html("");for(var a=0;a<c;a++)for(var b=0;b<c;b++){var e=jQuery('<div class="piece" id="piece-'+(a*c+b)+'"></div>').css("top",a*f).css("left",b*f).css("height",f).css("width",f);a*c+b!=k&&e.append(h[g[a*c+b]]);e.click(function(){d.move(jQuery(this).attr("id").match(/[0-9]+/)[0],d.blank_position)});jQuery("#puzzle").append(e)}d.timer.start()});a.append(b);jQuery("#puzzle").append(a)},solved:function(){for(var a=0;a<
c*c;a++)if(this.positions[a]!=this.solution[a])return!1;return!0},move:function(a,b){a=parseInt(a);b=parseInt(b);if(!(a!=this.blank_position&&b!=this.blank_position||a==b||a<b&&(a+1)%this.n==0&&(b+1)%this.n==!0)){var d=a-b<0?b-a:a-b;if(!(d!=1&&d!=c))d=this.positions[a],this.positions[a]=this.positions[b],this.positions[b]=d,this.blank_position=this.blank_position==a?b:a,jQuery(".piece:eq("+a+")").html(""),jQuery(".piece:eq("+b+")").html(this.images[this.positions[b]]),this.moves++,jQuery(".moves").html(this.moves==
1?"1 move":this.moves+" moves"),this.solved()&&(alert("Solved!!"),jQuery(".piece:eq("+this.blank_position+")").html(this.images[this.blank_position]),this.timer.stop())}}}}jQuery(document).ready(function(c){c.ajax({url:"https://api.instagram.com/v1/media/popular?client_id=f0d3cc511b8a4f31868cab5c7f7b8f0d",dataType:"jsonp",success:function(c){(new Puzzle(3,c.data[0].images.standard_resolution.url)).build()}})});
